(this["webpackJsonpfetch-items"]=this["webpackJsonpfetch-items"]||[]).push([[0],{113:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(19),s=n.n(r),a=n(46),l=n(74),i=(n(98),n(22)),o=n(68),u=n(75),j=n.n(u),b=n(51),d=n(37),O="ISSUE_LOAD",v="ISSUE_LOAD_SUCCESS",p="ISSUE_LOAD_FAIL",h="issue",f={list:[],resultCount:0,error:null,loading:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type===O?Object(d.a)(Object(d.a)({},e),{},{loading:!0}):t.type===v?Object(d.a)(Object(d.a)({},e),{},{loading:!1,list:t.results,resultCount:t.resultCount,error:null}):t.type===p?Object(d.a)(Object(d.a)({},e),{},{loading:!1,list:[],resultCount:0,error:t.error}):e},x=Object(i.b)(Object(b.a)({},h,m)),g=n(87),N=n(32),S=n.n(N),_=n(33),C=function(e){var t=e.resultCount,n=e.results;return{type:v,resultCount:t,results:n}},y=[{value:"all",name:"All"},{value:"open",name:"Open"},{value:"close",name:"Close"}],k=function(e){var t=e.genre||"all";return fetch("".concat("https://api.github.com","/repos/nnluukhtn/employment_bot/issues?q=is%3Aissue+is%3A").concat(t)).then((function(e){return e.json()}))},w=S.a.mark(I),E=S.a.mark(D);function I(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_.b)(k,e.payload);case 3:return t=n.sent,n.next=6,Object(_.c)(300);case 6:return n.next=8,Object(_.d)(C({resultCount:t.length,results:t}));case 8:localStorage.setItem("__store",JSON.stringify(t)),n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(_.d)((c=n.t0,{type:p,error:c}));case 15:case"end":return n.stop()}var c}),w,null,[[0,11]])}function D(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.e)(O,I);case 2:case"end":return e.stop()}}),E)}var F=S.a.mark(L);function L(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([D()]);case 2:case"end":return e.stop()}}),F)}var A={key:"root",storage:j.a},T=Object(o.a)(A,x),U=function(){var e=function(){var e=Object(g.a)(),t=null;window&&window.__REDUX_DEVTOOLS_EXTENSION__&&(t=window.__REDUX_DEVTOOLS_EXTENSION__());var n=Object(i.d)(T,Object(i.c)(Object(i.a)(e),t));return e.run(L),n}();return{store:e,persistor:Object(o.b)(e)}},R=n(65),X=n(121),J=n(122),B=n(120),P=n(119),V=n(8),q=function(){return Object(V.jsx)(P.a,{size:"large",className:"loading-block"})},z=function(){return Object(V.jsx)("div",{children:"Some error occurred."})},G=function(){return Object(V.jsx)("div",{children:"Cannot find any result you are looking for!"})},H=(n(113),function(){var e=Object(c.useState)({genre:y[0].value}),t=Object(R.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),l=Object(R.a)(s,2),i=l[0],o=l[1],u=Object(c.useState)({}),j=Object(R.a)(u,2),b=j[0],d=j[1],v=Object(a.b)(),p=Object(a.c)((function(e){return function(e){return e.issue}(e)})),h=Object(c.useCallback)((function(){var e;v((e={genre:n.genre},{type:O,payload:e}))}),[v,n]);return Object(c.useEffect)((function(){h()}),[n,h]),Object(V.jsxs)("div",{className:"main-layout",children:[Object(V.jsxs)(X.a,{className:"filter-block",children:[Object(V.jsx)(J.a,{span:24,children:Object(V.jsx)("span",{className:"title",children:"Filter State"})}),Object(V.jsx)(J.a,{span:24,children:Object(V.jsx)("div",{className:"genre-list",children:y&&y.length>0&&y.map((function(e,t){return Object(V.jsx)("div",{onClick:function(){return function(e){console.log("issueResp",p),p&&p.list&&p.list.length,n.genre===e?r({genre:""}):r({genre:e})}(e.value)},className:"genre-item ".concat(e.value===n.genre?"active":""," genre-item__").concat(e.value),children:e.name},"genre-item-".concat(t))}))})})]}),(null===p||void 0===p?void 0:p.loading)?Object(V.jsx)(q,{}):(null===p||void 0===p?void 0:p.list)&&(null===p||void 0===p?void 0:p.list.length)>0?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(X.a,{className:"result-block",children:[Object(V.jsx)(J.a,{span:24,children:Object(V.jsxs)("span",{className:"title",children:["Results (",p&&p.resultCount||0,")"]})}),p.list.map((function(e,t){var n;return Object(V.jsx)(J.a,{className:"item-col",xs:{span:24},sm:{span:24},children:Object(V.jsxs)("div",{className:"item",onClick:function(){return function(e){d(e),console.log("item",e),o(!0)}(e)},children:[Object(V.jsx)("div",{className:"state",children:"open"===e.state?Object(V.jsx)("div",{className:"open",children:"Open"}):Object(V.jsx)("div",{className:"close",children:"Close"})}),Object(V.jsxs)("div",{className:"row",children:[Object(V.jsx)("div",{className:"title",children:e.title}),0!==(null===(n=e.labels)||void 0===n?void 0:n.length)&&e.labels.map((function(e,t){return Object(V.jsx)("div",{className:"label",children:e.name},"item-label-".concat(t))}))]}),Object(V.jsx)("div",{className:"description",children:Object(V.jsx)("span",{children:"#".concat(e.number," ").concat("open"===e.state?"open":"close"," by ").concat(e.user.login)})})]})},"result-item-".concat(t))}))]}),Object(V.jsxs)(B.a,{title:"Issue detail",visible:i,onCancel:function(){return o(!1)},footer:[],children:[Object(V.jsx)("p",{children:b.title}),Object(V.jsx)("p",{children:b.body}),Object(V.jsxs)("p",{children:["State: ",b.state]})]})]}):Object(V.jsxs)(V.Fragment,{children:[(null===p||void 0===p?void 0:p.error)&&Object(V.jsx)(z,{}),Object(V.jsx)(G,{})]})]})}),K=function(){return Object(V.jsx)(H,{})},M=U();var Q=function(){return Object(V.jsx)(a.a,{store:M.store,children:Object(V.jsx)(l.a,{persistor:M.persistor,children:Object(V.jsx)(K,{})})})},W=(n(115),n(116),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))});s.a.render(Object(V.jsx)(Q,{}),document.getElementById("root")),W()},98:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.9c387ea1.chunk.js.map